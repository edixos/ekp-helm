tags:
  configConnector: true

gcpbucket:
  global:
    cnrmNamespace: ""
    location: europe-west1
    abandon: true
    skipUnspecifiedFields: false
    gcpProjectId: "ekp-dev"
  bucketName: velero-bucket-gcp
  accessControl:
    uniformBucketLevelAccess: false
    publicAccessPrevention: inherited
    createCloudIamPolicy: true
  iamPolicy:
    - member: serviceAccount:velero-bucket@ekp-dev.iam.gserviceaccount.com
      role: roles/storage.admin

workloadIdentity:
  global:
    gcpProjectId: "ekp-dev"
    gsa:
      create: true
      name: velero-bucket
      project: "ekp-dev"
    cnrmNamespace: ""
    abandon: true
    ksa:
      namespace: cnrm-system
      name: cnrm-controller-manager-default

velero:
  credentials:
    useSecret: false
  serviceAccount:
    server:
      create: true
      name: velero-bucket
      annotations:
        iam.gke.io/gcp-service-account: velero-bucket@ekp-dev.iam.gserviceaccount.com
  configuration:
    backupStorageLocation:
      - name: default
        provider: gcp
        bucket: velero-bucket-gcp
        config:
          serviceAccount: velero-bucket@ekp-dev.iam.gserviceaccount.com
          region: europe-west1

    volumeSnapshotLocation:
      - name: default
        provider: gcp
        config:
          project: ekp-dev
          region: europe-west1
backups:
  enabled: true
